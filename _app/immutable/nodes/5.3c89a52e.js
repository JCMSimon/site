import{i as rt,f as ct,h as q,j as ut,s as st,n as v,e as K,o as it,r as ht}from"../chunks/scheduler.cbb350b0.js";import{p as R,t as A,b as Y,d as T,S as lt,i as nt,g as _,m as w,s as I,h as g,j as k,n as C,f as b,c as S,y as B,k as m,a as P,x as i,o as at,B as G,A as Q,C as dt,e as X,D as ft,r as pt,u as mt,v as _t,w as gt,l as bt}from"../chunks/index.458ad680.js";import{w as ot}from"../chunks/index.260a9cdc.js";function Z(l,t){const n=t.token={};function e(s,u,a,r){if(t.token!==n)return;t.resolved=r;let o=t.ctx;a!==void 0&&(o=o.slice(),o[a]=r);const c=s&&(t.current=s)(o);let d=!1;t.block&&(t.blocks?t.blocks.forEach((h,f)=>{f!==u&&h&&(R(),A(h,1,1,()=>{t.blocks[f]===h&&(t.blocks[f]=null)}),Y())}):t.block.d(1),c.c(),T(c,1),c.m(t.mount(),t.anchor),d=!0),t.block=c,t.blocks&&(t.blocks[u]=c),d&&ut()}if(rt(l)){const s=ct();if(l.then(u=>{q(s),e(t.then,1,t.value,u),q(null)},u=>{if(q(s),e(t.catch,2,t.error,u),q(null),!t.hasCatch)throw u}),t.current!==t.pending)return e(t.pending,0),!0}else{if(t.current!==t.then)return e(t.then,1,t.value,l),!0;t.resolved=l}}function vt(l,t,n){const e=t.slice(),{resolved:s}=l;l.current===l.then&&(e[l.value]=s),l.current===l.catch&&(e[l.error]=s),l.block.p(e,n)}function $(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}var kt=ot(!1),wt=ot("");class Ct{constructor(){this.baseurl="https://api.jcms.dev"}async authenticate(t){return await(await fetch(`${this.baseurl}/auth`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({pw:t})})).json()}async getTitlesAndDates(t){return await(await fetch(`${this.baseurl}/getTitlesAndDates`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({pw:t})})).json()}}function Tt(l){let t,n,e,s,u,a,r,o,c,d,h,f,U="EDIT",x,y,L="DELETE",M,E,F="RENAME",V,D,H="PUBLIC",J,O,W="VIEW";return{c(){t=_("div"),n=_("h3"),e=w(l[2]),s=w("/"),u=w(l[1]),a=w("/"),r=w(l[3]),o=I(),c=_("h2"),d=w(l[0]),h=I(),f=_("button"),f.textContent=U,x=I(),y=_("button"),y.textContent=L,M=I(),E=_("button"),E.textContent=F,V=I(),D=_("button"),D.textContent=H,J=I(),O=_("button"),O.textContent=W,this.h()},l(j){t=g(j,"DIV",{class:!0});var p=k(t);n=g(p,"H3",{class:!0});var N=k(n);e=C(N,l[2]),s=C(N,"/"),u=C(N,l[1]),a=C(N,"/"),r=C(N,l[3]),N.forEach(b),o=S(p),c=g(p,"H2",{class:!0});var z=k(c);d=C(z,l[0]),z.forEach(b),h=S(p),f=g(p,"BUTTON",{class:!0,"data-svelte-h":!0}),B(f)!=="svelte-319nmf"&&(f.textContent=U),x=S(p),y=g(p,"BUTTON",{class:!0,"data-svelte-h":!0}),B(y)!=="svelte-5fje1o"&&(y.textContent=L),M=S(p),E=g(p,"BUTTON",{class:!0,"data-svelte-h":!0}),B(E)!=="svelte-14hiio9"&&(E.textContent=F),V=S(p),D=g(p,"BUTTON",{class:!0,"data-svelte-h":!0}),B(D)!=="svelte-1915512"&&(D.textContent=H),J=S(p),O=g(p,"BUTTON",{class:!0,"data-svelte-h":!0}),B(O)!=="svelte-fv2nq"&&(O.textContent=W),p.forEach(b),this.h()},h(){m(n,"class","thoughtDate svelte-12i1g46"),m(c,"class","thoughtTitle svelte-12i1g46"),m(f,"class","ctmbutton svelte-12i1g46"),m(y,"class","ctmbutton svelte-12i1g46"),m(E,"class","ctmbutton svelte-12i1g46"),m(D,"class","ctmbutton svelte-12i1g46"),m(O,"class","ctmbutton svelte-12i1g46"),m(t,"class","manageThought svelte-12i1g46")},m(j,p){P(j,t,p),i(t,n),i(n,e),i(n,s),i(n,u),i(n,a),i(n,r),i(t,o),i(t,c),i(c,d),i(t,h),i(t,f),i(t,x),i(t,y),i(t,M),i(t,E),i(t,V),i(t,D),i(t,J),i(t,O)},p(j,[p]){p&1&&at(d,j[0])},i:v,o:v,d(j){j&&b(t)}}}function yt(l,t,n){let{title:e}=t,{date:s}=t,u=new Date(s*1e3),a=u.getUTCMonth()+1,r=u.getUTCDate(),o=u.getUTCFullYear();return l.$$set=c=>{"title"in c&&n(0,e=c.title),"date"in c&&n(4,s=c.date)},[e,a,r,o,s]}class Et extends lt{constructor(t){super(),nt(this,t,yt,Tt,st,{title:0,date:4})}}function tt(l,t,n){const e=l.slice();return e[10]=t[n],e}function Dt(l){let t,n,e,s,u;return{c(){t=_("div"),n=_("form"),e=_("input"),this.h()},l(a){t=g(a,"DIV",{class:!0});var r=k(t);n=g(r,"FORM",{});var o=k(n);e=g(o,"INPUT",{title:!0,placeholder:!0,type:!0,name:!0,id:!0,class:!0}),o.forEach(b),r.forEach(b),this.h()},h(){m(e,"title","If you're not Simon please fuck off <3"),m(e,"placeholder","PASSWORD"),m(e,"type","password"),m(e,"name","password"),m(e,"id","password"),m(e,"class","passwordInput svelte-1jmqrh0"),m(t,"class","pwContainer svelte-1jmqrh0")},m(a,r){P(a,t,r),i(t,n),i(n,e),G(e,l[2]),s||(u=[Q(e,"input",l[6]),Q(n,"submit",dt(l[7]))],s=!0)},p(a,r){r&4&&e.value!==a[2]&&G(e,a[2])},i:v,o:v,d(a){a&&b(t),s=!1,ht(u)}}}function Ot(l){let t,n,e,s,u,a,r,o,c={ctx:l,current:null,token:null,hasCatch:!1,pending:St,then:It,catch:jt,value:9,blocks:[,,,]};return Z(n=l[0].getTitlesAndDates(l[2]),c),{c(){t=_("div"),c.block.c(),e=I(),s=_("div"),u=w("Your Password is "),a=_("mark"),r=w(l[2]),this.h()},l(d){t=g(d,"DIV",{class:!0});var h=k(t);c.block.l(h),e=S(h),s=g(h,"DIV",{class:!0});var f=k(s);u=C(f,"Your Password is "),a=g(f,"MARK",{class:!0});var U=k(a);r=C(U,l[2]),U.forEach(b),f.forEach(b),h.forEach(b),this.h()},h(){m(a,"class","blur svelte-1jmqrh0"),m(s,"class","passwordText svelte-1jmqrh0"),m(t,"class","mainContainer svelte-1jmqrh0")},m(d,h){P(d,t,h),c.block.m(t,c.anchor=null),c.mount=()=>t,c.anchor=e,i(t,e),i(t,s),i(s,u),i(s,a),i(a,r),o=!0},p(d,h){l=d,c.ctx=l,h&5&&n!==(n=l[0].getTitlesAndDates(l[2]))&&Z(n,c)||vt(c,l,h),(!o||h&4)&&at(r,l[2])},i(d){o||(T(c.block),o=!0)},o(d){for(let h=0;h<3;h+=1){const f=c.blocks[h];A(f)}o=!1},d(d){d&&b(t),c.block.d(),c.token=null,c=null}}}function jt(l){return{c:v,l:v,m:v,p:v,i:v,o:v,d:v}}function It(l){let t,n,e=$(JSON.parse(l[9].message.replace(/'/g,'"').replace(/\(/g,"[").replace(/\)/g,"]"))),s=[];for(let a=0;a<e.length;a+=1)s[a]=et(tt(l,e,a));const u=a=>A(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=X()},l(a){for(let r=0;r<s.length;r+=1)s[r].l(a);t=X()},m(a,r){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(a,r);P(a,t,r),n=!0},p(a,r){if(r&5){e=$(JSON.parse(a[9].message.replace(/'/g,'"').replace(/\(/g,"[").replace(/\)/g,"]")));let o;for(o=0;o<e.length;o+=1){const c=tt(a,e,o);s[o]?(s[o].p(c,r),T(s[o],1)):(s[o]=et(c),s[o].c(),T(s[o],1),s[o].m(t.parentNode,t))}for(R(),o=e.length;o<s.length;o+=1)u(o);Y()}},i(a){if(!n){for(let r=0;r<e.length;r+=1)T(s[r]);n=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)A(s[r]);n=!1},d(a){a&&b(t),ft(s,a)}}}function et(l){let t,n;return t=new Et({props:{title:l[10][0],date:l[10][1]}}),{c(){pt(t.$$.fragment)},l(e){mt(t.$$.fragment,e)},m(e,s){_t(t,e,s),n=!0},p(e,s){const u={};s&5&&(u.title=e[10][0]),s&5&&(u.date=e[10][1]),t.$set(u)},i(e){n||(T(t.$$.fragment,e),n=!0)},o(e){A(t.$$.fragment,e),n=!1},d(e){gt(t,e)}}}function St(l){let t,n="Loading...";return{c(){t=_("p"),t.textContent=n,this.h()},l(e){t=g(e,"P",{style:!0,"data-svelte-h":!0}),B(t)!=="svelte-bzcsc6"&&(t.textContent=n),this.h()},h(){bt(t,"color","white")},m(e,s){P(e,t,s)},p:v,i:v,o:v,d(e){e&&b(t)}}}function At(l){let t,n,e,s;const u=[Ot,Dt],a=[];function r(o,c){return o[1]===!0?0:1}return n=r(l),e=a[n]=u[n](l),{c(){t=_("body"),e.c()},l(o){t=g(o,"BODY",{});var c=k(t);e.l(c),c.forEach(b)},m(o,c){P(o,t,c),a[n].m(t,null),s=!0},p(o,[c]){let d=n;n=r(o),n===d?a[n].p(o,c):(R(),A(a[d],1,1,()=>{a[d]=null}),Y(),e=a[n],e?e.p(o,c):(e=a[n]=u[n](o),e.c()),T(e,1),e.m(t,null))},i(o){s||(T(e),s=!0)},o(o){A(e),s=!1},d(o){o&&b(t),a[n].d()}}}function Nt(l,t,n){let e,s,u,a;K(l,wt,f=>n(4,u=f)),K(l,kt,f=>n(5,a=f));let r,o;it(()=>{n(0,o=new Ct),r=document.getElementById("password"),r.focus()});async function c(){r.disabled=!0,n(1,e=await o.authenticate(s)),e===!1&&(alert("If you're not Simon please fuck off <3 (wrong password)"),r.value="",r.disabled=!1,r.focus())}function d(){s=this.value,n(2,s),n(4,u)}const h=()=>c();return l.$$.update=()=>{l.$$.dirty&32&&n(1,e=a),l.$$.dirty&16&&n(2,s=u)},[o,e,s,c,u,a,d,h]}class qt extends lt{constructor(t){super(),nt(this,t,Nt,At,st,{})}}export{qt as component};
